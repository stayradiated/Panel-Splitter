(function(){var e,t={},n={},r=0,i=0,s=!1,o={},u={pos:0,width:0},a,f=function(e){this.id=e.id;this.el=e.el;this.min=e.min||0;this.max=e.max||Infinity;this.width=e.width||0;this.pos=0;if(this.id==="left"){this.left=t.left;this.right=t.center}else if(this.id==="right"){this.left=t.center;this.right=t.right}};f.prototype.resize=function(e,t){t?this.width+=e:this.width=e;this.el.style.width=this.width+"px"};f.prototype.move=function(e,t){t?this.pos+=e:this.pos=e;this.el.style.left=this.pos+"px"};if(typeof window!="undefined"){console.log(global);var l=global.gui;a=l.Window.get()}else a=window;var c;typeof document!="undefined"?c=global.document:c=document;var h=c.body,p=function(e,r){var s=!0;r<e.left.min+o.left?r=e.left.min+o.left:r>e.left.max+o.left&&(r=e.left.max+o.left);if(e.id==="right"){s=!1;o.right-r<e.right.min?s=!0:o.right-r>e.right.max&&(r=o.right-e.right.max)}diff=r-u.pos;if(diff===0){e.pos=u.pos=r;return!0}if(e.id==="right"){t.center.resize(r-o.left);t.right.move(r);n.right.move(r)}else if(e.id==="left"){n.left.move(r);n.right.move(diff,!0);t.left.resize(r-o.left);t.center.move(r);t.right.move(n.right.pos)}if(s){i+=diff;a.width=i;o.right=i}e.pos=u.pos=r};getPos=function(e){pos=e-r;pos<0?pos=0:pos>i&&(pos=i);return pos};var d={down:function(e){s=this.obj;o={left:0,right:i};s.id==="right"?o.left=n.left.pos:s.id==="left"&&(o.right=n.right.pos);u.pos=getPos(e.clientX);h.className="dragging";down=!0},move:function(e){if(s){pos=getPos(e.clientX);p(s,pos)}},up:function(){h.className="";s=!1}},v=function(r){e=r.parent;t.left=new f(r.panels.left);t.center=new f(r.panels.center);t.right=new f(r.panels.right);minWidth=r.minWidth;n.left=new f({id:"left",el:c.createElement("div")});n.right=new f({id:"right",el:c.createElement("div")});n.left.el.className="splitter split-left";n.right.el.className="splitter split-right";t.left.el.insertAdjacentElement("afterend",n.left.el);t.center.el.insertAdjacentElement("afterend",n.right.el);n.left.pos=n.left.el.offsetLeft;n.right.pos=n.right.el.offsetLeft;n.left.el.obj=n.left;n.right.el.obj=n.right;i=e.offsetWidth;n.left.el.onmousedown=d.down;n.right.el.onmousedown=d.down;c.onmousemove=d.move;c.onmouseup=d.up;window.onresize=function(r){if(!s){i=e.offsetWidth;diff=i-u.width;if(diff!==0){if(diff<0&&t.right.el.offsetWidth<=t.right.min){t.center.resize(diff,!0);t.right.move(diff,!0);n.right.move(diff,!0)}u.width=i}}}},m={init:v,panels:t,splitters:n};typeof module!="undefined"?module.exports=m:window.Splitter=m})();